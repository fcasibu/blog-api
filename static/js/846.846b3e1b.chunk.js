"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[846],{8344:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(5983),a=(t(2791),t(5486)),i=t(4304),s=t(857),u="CMSForm_buttons__s1gOo",o=t(184),l={height:500,menubar:!1,plugins:"codesample",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | codesample",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:18px }"};function d(e){var n=e.formValues,t=e.submitHandler,d=e.isLoading,c=e.isRequired,m=e.errors,f=e.changeHandler,v=e.editorValue,g=e.setEditorValue;return(0,o.jsxs)(i.ZP,{customButtons:!0,onSubmit:t,isLoading:d,children:[(0,o.jsx)(i.NI,{id:"title",label:"Post Title",errors:m,children:(0,o.jsx)(i.II,{type:"text",name:"title",id:"title",value:n.title,onChange:f})}),(0,o.jsx)(i.NI,{id:"tag",label:"Post Tag",errors:m,children:(0,o.jsx)(i.II,{type:"text",name:"tag",id:"tag",value:n.tag,onChange:f})}),(0,o.jsx)(i.NI,{id:"image",label:"Post Image",errors:m,children:(0,o.jsx)(i.II,{type:"file",name:"image",id:"image",onChange:f,required:c})}),(0,o.jsx)(i.NI,{id:"body",label:"Post Body",errors:m,children:(0,o.jsx)(r.M,{apiKey:a.O,value:v,onEditorChange:g,init:l,id:"body"})}),(0,o.jsxs)("div",{className:u,children:[(0,o.jsx)("button",{type:"submit",name:"draft",value:"false",disabled:d,children:d?(0,o.jsx)(s.Z,{}):"Save as Draft"}),(0,o.jsx)("button",{type:"submit",name:"publish",value:"true",disabled:d,children:d?(0,o.jsx)(s.Z,{}):"Publish Post"})]})]})}},7940:function(e,n,t){t.d(n,{K:function(){return a}});t(2791);var r=t(184);function a(e){var n=e.id,t=e.name,a=e.value,i=e.onChange;return(0,r.jsx)("textarea",{id:n,name:t,value:a,onChange:i})}},4304:function(e,n,t){t.d(n,{NI:function(){return m},II:function(){return l},ZP:function(){return o}});t(2791);var r=t(857),a="Form_form__e1yzW",i="Form_label-text__-KdfF",s="Form_error-message__pIAv9",u=t(184);function o(e){var n=e.children,t=e.onSubmit,i=e.isLoading,s=e.customButtons;return(0,u.jsxs)("form",{onSubmit:t,className:a,children:[n,!s&&(0,u.jsx)("button",{type:"submit",disabled:i,children:i?(0,u.jsx)(r.Z,{}):"Submit"})]})}function l(e){var n=e.type,t=e.id,r=e.name,a=e.value,i=e.onChange,s=e.required;return(0,u.jsx)("input",{type:n,id:t,name:r,value:a,onChange:i,required:s})}var d=t(885),c=t(9647);function m(e){var n,t=e.children,r=e.id,a=e.label,o=e.errors,l=void 0===o?[]:o,m=(0,c.u)(),f=(0,d.Z)(m,1)[0],v=null===(n=l.find((function(e){return e.param===r})))||void 0===n?void 0:n.msg;return(0,u.jsxs)("label",{htmlFor:r,ref:f,children:[(0,u.jsx)("p",{className:i,children:a}),t,v&&(0,u.jsx)("p",{className:s,children:v})]})}t(7940)},857:function(e,n,t){t.d(n,{Z:function(){return i}});var r="Spinner_spinner__Z6H3Z",a=t(184);function i(){return(0,a.jsx)("div",{className:r,children:(0,a.jsx)("div",{})})}},6196:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(2791),a=t(5579);function i(){var e=r.useContext(a.i);if(!e)throw new Error("useCMS can only be used inside a CMSProvider");return e}},2954:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(4942),a=t(1413),i=t(885),s=t(2791);function u(e){var n=s.useState(e),t=(0,i.Z)(n,2),u=t[0],o=t[1],l=s.useState([]),d=(0,i.Z)(l,2);return{formValues:u,errors:d[0],changeHandler:function(e){var n=e.target,t=n.name,i=n.value,s=n.files;o((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},t,"image"===t?null===s||void 0===s?void 0:s[0]:i))}))},setErrors:d[1],setFormValues:o}}},4846:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(8214),a=t(5861),i=t(885),s=t(2791),u=t(6871),o=t(2954),l=t(6196),d=t(3397),c=t(8344),m=t(184),f={title:"",tag:"",image:""};function v(){var e=(0,l.Z)(),n=e.getPost,t=e.createPost,v=(0,u.s0)(),g=s.useState(""),p=(0,i.Z)(g,2),h=p[0],b=p[1],x=s.useState(!1),j=(0,i.Z)(x,2),Z=j[0],y=j[1],_=(0,o.Z)(f),I=_.formValues,C=_.changeHandler,S=_.errors,P=_.setErrors,w=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a){var i,s,u,o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.preventDefault(),i=a.nativeEvent,s=i.submitter,u=s.name,(o=new FormData).append("image",I.image),o.append("body",h),o.append("title",I.title),o.append("tag",I.tag),y(!0),e.next=12,t(o,u);case 12:if(l=e.sent,y(!1),!l.data.errors){e.next=16;break}return e.abrupt("return",P(l.data.errors));case 16:return e.next=18,n(l.data.post._id);case 18:v("/cms"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),P((0,d.Z)(e.t0));case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{children:(0,m.jsx)(c.Z,{formValues:I,submitHandler:w,changeHandler:C,isLoading:Z,isRequired:!0,errors:S,editorValue:h,setEditorValue:b})})}},3397:function(e,n,t){t.d(n,{Z:function(){return i}});var r="User does not exist",a="Invalid Password";function i(e){switch(e.response.data.message){case r:return[{param:"email",msg:r}];case a:return[{param:"password",msg:a}];default:return[]}}}}]);
//# sourceMappingURL=846.846b3e1b.chunk.js.map