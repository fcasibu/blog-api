{"version":3,"file":"static/js/586.b8abc280.chunk.js","mappings":"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","sources":["webpack://client/./src/components/Spinner/Spinner.module.css?d43e","components/Spinner/Spinner.tsx","hooks/useCMS.ts","hooks/usePagination.ts","pages/CMS/AllPosts.tsx","webpack://client/./src/pages/CMS/CMS.module.css?d49b","../node_modules/@formkit/auto-animate/index.mjs","../node_modules/@formkit/auto-animate/react/index.mjs"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"Spinner_spinner__Z6H3Z\",\"spin\":\"Spinner_spin__Q9zsz\"};","import s from './Spinner.module.css';\n\nexport default function Spinner() {\n  return <div className={s.spinner}>\n    <div />\n  </div>\n}\n","import * as React from 'react';\nimport { CMSContext } from '../context/CMSProvider';\n\nexport default function useCMS() {\n  const context = React.useContext(CMSContext);\n\n  if (!context) throw new Error('useCMS can only be used inside a CMSProvider');\n\n  return context;\n}\n","import * as React from 'react';\n\ninterface ILoadMore {\n  cb: any;\n  postId?: string;\n  tag?: string;\n}\n\nexport default function usePagination() {\n  const [pageCount, setPageCount] = React.useState(2);\n\n  const loadMoreHandler = React.useCallback(\n    ({ cb, postId, tag }: ILoadMore) => {\n      if (tag) {\n        cb(pageCount, tag as string);\n      } else if (postId) {\n        cb(pageCount, postId as string);\n      } else {\n        cb(pageCount);\n      }\n      setPageCount(pageCount + 1);\n    },\n    [pageCount]\n  );\n\n  return { loadMoreHandler, pageCount, setPageCount };\n}\n","import * as React from 'react';\nimport { useAutoAnimate } from '@formkit/auto-animate/react';\nimport { useNavigate } from 'react-router-dom';\nimport { IPost } from '../../context/DBProvider';\nimport useCMS from '../../hooks/useCMS';\nimport usePagination from '../../hooks/usePagination';\nimport Spinner from '../../components/Spinner';\nimport s from './CMS.module.css';\n\ninterface PostCardProps {\n  post: IPost;\n  deletePost: (postId: string) => Promise<void>;\n}\n\nfunction PostCard({ post, deletePost }: PostCardProps) {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const navigate = useNavigate();\n  const deleteHandler = async () => {\n    setIsLoading(true);\n    await deletePost(post._id);\n    setIsLoading(false);\n  };\n  return (\n    <div className={s['post-card']}>\n      <h4>{post.title}</h4>\n      <p>\n        <strong>Tag:</strong> {post.tag}\n      </p>\n      <p>\n        <strong>Created at:</strong> {post.formattedDate}\n      </p>\n      <p>\n        <strong>Status:</strong> {post.published ? 'Published' : 'Draft'}\n      </p>\n      <p>\n        <strong>Comments:</strong> {post.commentCount}\n      </p>\n      <div className={s.buttons}>\n        {post.published && (\n          <button type=\"button\" onClick={() => navigate(`/posts/${post._id}`)}>\n            View post\n          </button>\n        )}\n        <button type=\"button\" onClick={() => navigate(`${post._id}/edit`)}>\n          Edit Post\n        </button>\n        <button type=\"button\" onClick={deleteHandler} disabled={isLoading}>\n          {isLoading ? <Spinner /> : 'Delete Post'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\ninterface CardListProps {\n  posts: IPost[];\n  deletePost: (postId: string) => Promise<void>;\n}\n\nfunction CardList({ posts, deletePost }: CardListProps) {\n  const [parentRef] = useAutoAnimate<HTMLDivElement>();\n  return (\n    <div ref={parentRef} className={s['card-list']}>\n      {!posts.length && <div style={{textAlign: 'center', fontSize: '3rem'}}>No posts</div>}\n      {posts.map((post) => (\n        <PostCard post={post} key={post._id} deletePost={deletePost} />\n      ))}\n    </div>\n  );\n}\n\nexport default function AllPosts() {\n  const { documents, deletePost, loadPost } = useCMS();\n  const { pageCount, loadMoreHandler } = usePagination();\n\n  return (\n    <div>\n      <CardList posts={documents.posts} deletePost={deletePost} />\n      {documents.posts.length &&\n      documents.posts.length % (10 * (pageCount - 1)) === 0 ? (\n        <button\n          className={s['load-more']}\n          type=\"button\"\n          onClick={() => loadMoreHandler({ cb: loadPost })}\n        >\n          Load more\n        </button>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"cms\":\"CMS_cms__AqUK-\",\"card-list\":\"CMS_card-list__77+OO\",\"post-card\":\"CMS_post-card__Y2axW\",\"buttons\":\"CMS_buttons__u0fj-\",\"load-more\":\"CMS_load-more__D4jPz\",\"sidebar\":\"CMS_sidebar__S-PtC\"};","/**\n * A set of all the parents currently being observe. This is the only non weak\n * registry.\n */\nconst parents = new Set();\n/**\n * Element coordinates that is constantly kept up to date.\n */\nconst coords = new WeakMap();\n/**\n * Siblings of elements that have been removed from the dom.\n */\nconst siblings = new WeakMap();\n/**\n * Animations that are currently running.\n */\nconst animations = new WeakMap();\n/**\n * A map of existing intersection observers used to track element movements.\n */\nconst intersections = new WeakMap();\n/**\n * Intervals for automatically checking the position of elements occasionally.\n */\nconst intervals = new WeakMap();\n/**\n * The configuration options for each group of elements.\n */\nconst options = new WeakMap();\n/**\n * Debounce counters by id, used to debounce calls to update positions.\n */\nconst debounces = new WeakMap();\n/**\n * The document used to calculate transitions.\n */\nlet root;\n/**\n * Used to sign an element as the target.\n */\nconst TGT = \"__aa_tgt\";\n/**\n * Used to sign an element as being part of a removal.\n */\nconst DEL = \"__aa_del\";\n/**\n * Callback for handling all mutations.\n * @param mutations - A mutation list\n */\nconst handleMutations = (mutations) => {\n    const elements = getElements(mutations);\n    // If elements is \"false\" that means this mutation that should be ignored.\n    if (elements) {\n        elements.forEach((el) => animate(el));\n    }\n};\n/**\n *\n * @param entries - Elements that have been resized.\n */\nconst handleResizes = (entries) => {\n    entries.forEach((entry) => {\n        if (entry.target === root)\n            updateAllPos();\n        if (coords.has(entry.target))\n            updatePos(entry.target);\n    });\n};\n/**\n * Observe this elements position.\n * @param el - The element to observe the position of.\n */\nfunction observePosition(el) {\n    const oldObserver = intersections.get(el);\n    oldObserver === null || oldObserver === void 0 ? void 0 : oldObserver.disconnect();\n    let rect = coords.get(el);\n    let invocations = 0;\n    const buffer = 5;\n    if (!rect) {\n        rect = getCoords(el);\n        coords.set(el, rect);\n    }\n    const { offsetWidth, offsetHeight } = root;\n    const rootMargins = [\n        rect.top - buffer,\n        offsetWidth - (rect.left + buffer + rect.width),\n        offsetHeight - (rect.top + buffer + rect.height),\n        rect.left - buffer,\n    ];\n    const rootMargin = rootMargins\n        .map((px) => `${-1 * Math.floor(px)}px`)\n        .join(\" \");\n    const observer = new IntersectionObserver(() => {\n        ++invocations > 1 && updatePos(el);\n    }, {\n        root,\n        threshold: 1,\n        rootMargin,\n    });\n    observer.observe(el);\n    intersections.set(el, observer);\n}\n/**\n * Update the exact position of a given element.\n * @param el - An element to update the position of.\n */\nfunction updatePos(el) {\n    clearTimeout(debounces.get(el));\n    const optionsOrPlugin = getOptions(el);\n    const delay = typeof optionsOrPlugin === \"function\" ? 500 : optionsOrPlugin.duration;\n    debounces.set(el, setTimeout(() => {\n        const currentAnimation = animations.get(el);\n        if (!currentAnimation || currentAnimation.finished) {\n            coords.set(el, getCoords(el));\n            observePosition(el);\n        }\n    }, delay));\n}\n/**\n * Updates all positions that are currently being tracked.\n */\nfunction updateAllPos() {\n    clearTimeout(debounces.get(root));\n    debounces.set(root, setTimeout(() => {\n        parents.forEach((parent) => forEach(parent, (el) => lowPriority(() => updatePos(el))));\n    }, 100));\n}\n/**\n * Its possible for a quick scroll or other fast events to get past the\n * intersection observer, so occasionally we need want \"cold-poll\" for the\n * latests and greatest position. We try to do this in the most non-disruptive\n * fashion possible. First we only do this ever couple seconds, staggard by a\n * random offset.\n * @param el - Element\n */\nfunction poll(el) {\n    setTimeout(() => {\n        intervals.set(el, setInterval(() => lowPriority(updatePos.bind(null, el)), 2000));\n    }, Math.round(2000 * Math.random()));\n}\n/**\n * Perform some operation that is non critical at some point.\n * @param callback\n */\nfunction lowPriority(callback) {\n    if (typeof requestIdleCallback === \"function\") {\n        requestIdleCallback(() => callback());\n    }\n    else {\n        requestAnimationFrame(() => callback());\n    }\n}\n/**\n * The mutation observer responsible for watching each root element.\n */\nlet mutations;\n/**\n * A resize observer, responsible for recalculating elements on resize.\n */\nlet resize;\n/**\n * If this is in a browser, initialize our Web APIs\n */\nif (typeof window !== \"undefined\") {\n    root = document.documentElement;\n    mutations = new MutationObserver(handleMutations);\n    resize = new ResizeObserver(handleResizes);\n    resize.observe(root);\n}\n/**\n * Retrieves all the elements that may have been affected by the last mutation\n * including ones that have been removed and are no longer in the DOM.\n * @param mutations - A mutation list.\n * @returns\n */\nfunction getElements(mutations) {\n    return mutations.reduce((elements, mutation) => {\n        // Short circuit if we find a purposefully deleted node.\n        if (elements === false)\n            return false;\n        if (mutation.target instanceof Element) {\n            target(mutation.target);\n            if (!elements.has(mutation.target)) {\n                elements.add(mutation.target);\n                for (let i = 0; i < mutation.target.children.length; i++) {\n                    const child = mutation.target.children.item(i);\n                    if (!child)\n                        continue;\n                    if (DEL in child)\n                        return false;\n                    target(mutation.target, child);\n                    elements.add(child);\n                }\n            }\n            if (mutation.removedNodes.length) {\n                for (let i = 0; i < mutation.removedNodes.length; i++) {\n                    const child = mutation.removedNodes[i];\n                    if (DEL in child)\n                        return false;\n                    if (child instanceof Element) {\n                        elements.add(child);\n                        target(mutation.target, child);\n                        siblings.set(child, [\n                            mutation.previousSibling,\n                            mutation.nextSibling,\n                        ]);\n                    }\n                }\n            }\n        }\n        return elements;\n    }, new Set());\n}\n/**\n *\n * @param el - The root element\n * @param child\n */\nfunction target(el, child) {\n    if (!child && !(TGT in el))\n        Object.defineProperty(el, TGT, { value: el });\n    else if (child && !(TGT in child))\n        Object.defineProperty(child, TGT, { value: el });\n}\n/**\n * Determines what kind of change took place on the given element and then\n * performs the proper animation based on that.\n * @param el - The specific element to animate.\n */\nfunction animate(el) {\n    var _a;\n    const isMounted = root.contains(el);\n    const preExisting = coords.has(el);\n    if (isMounted && siblings.has(el))\n        siblings.delete(el);\n    if (animations.has(el)) {\n        (_a = animations.get(el)) === null || _a === void 0 ? void 0 : _a.cancel();\n    }\n    if (preExisting && isMounted) {\n        remain(el);\n    }\n    else if (preExisting && !isMounted) {\n        remove(el);\n    }\n    else {\n        add(el);\n    }\n}\n/**\n * Removes all non-digits from a string and casts to a number.\n * @param str - A string containing a pixel value.\n * @returns\n */\nfunction raw(str) {\n    return Number(str.replace(/[^0-9.\\-]/g, \"\"));\n}\n/**\n * Get the coordinates of elements adjusted for scroll position.\n * @param el - Element\n * @returns\n */\nfunction getCoords(el) {\n    const rect = el.getBoundingClientRect();\n    return {\n        top: rect.top + window.scrollY,\n        left: rect.left + window.scrollX,\n        width: rect.width,\n        height: rect.height,\n    };\n}\n/**\n * Returns the width/height that the element should be transitioned between.\n * This takes into account box-sizing.\n * @param el - Element being animated\n * @param oldCoords - Old set of Coordinates coordinates\n * @param newCoords - New set of Coordinates coordinates\n * @returns\n */\nfunction getTransitionSizes(el, oldCoords, newCoords) {\n    let widthFrom = oldCoords.width;\n    let heightFrom = oldCoords.height;\n    let widthTo = newCoords.width;\n    let heightTo = newCoords.height;\n    const styles = getComputedStyle(el);\n    const sizing = styles.getPropertyValue(\"box-sizing\");\n    if (sizing === \"content-box\") {\n        const paddingY = raw(styles.paddingTop) +\n            raw(styles.paddingBottom) +\n            raw(styles.borderTopWidth) +\n            raw(styles.borderBottomWidth);\n        const paddingX = raw(styles.paddingLeft) +\n            raw(styles.paddingRight) +\n            raw(styles.borderRightWidth) +\n            raw(styles.borderLeftWidth);\n        widthFrom -= paddingX;\n        widthTo -= paddingX;\n        heightFrom -= paddingY;\n        heightTo -= paddingY;\n    }\n    return [widthFrom, widthTo, heightFrom, heightTo].map(Math.round);\n}\n/**\n * Retrieves animation options for the current element.\n * @param el - Element to retrieve options for.\n * @returns\n */\nfunction getOptions(el) {\n    return TGT in el && options.has(el[TGT])\n        ? options.get(el[TGT])\n        : { duration: 250, easing: \"ease-in-out\" };\n}\n/**\n * Iterate over the children of a given parent.\n * @param parent - A parent element\n * @param callback - A callback\n */\nfunction forEach(parent, ...callbacks) {\n    callbacks.forEach((callback) => callback(parent, options.has(parent)));\n    for (let i = 0; i < parent.children.length; i++) {\n        const child = parent.children.item(i);\n        if (child) {\n            callbacks.forEach((callback) => callback(child, options.has(child)));\n        }\n    }\n}\n/**\n * The element in question is remaining in the DOM.\n * @param el - Element to flip\n * @returns\n */\nfunction remain(el) {\n    const oldCoords = coords.get(el);\n    const newCoords = getCoords(el);\n    let animation;\n    if (!oldCoords)\n        return;\n    const pluginOrOptions = getOptions(el);\n    if (typeof pluginOrOptions !== \"function\") {\n        const deltaX = oldCoords.left - newCoords.left;\n        const deltaY = oldCoords.top - newCoords.top;\n        const [widthFrom, widthTo, heightFrom, heightTo] = getTransitionSizes(el, oldCoords, newCoords);\n        const start = {\n            transform: `translate(${deltaX}px, ${deltaY}px)`,\n        };\n        const end = {\n            transform: `translate(0, 0)`,\n        };\n        if (widthFrom !== widthTo) {\n            start.width = `${widthFrom}px`;\n            end.width = `${widthTo}px`;\n        }\n        if (heightFrom !== heightTo) {\n            start.height = `${heightFrom}px`;\n            end.height = `${heightTo}px`;\n        }\n        animation = el.animate([start, end], pluginOrOptions);\n    }\n    else {\n        animation = new Animation(pluginOrOptions(el, \"remain\", oldCoords, newCoords));\n        animation.play();\n    }\n    animations.set(el, animation);\n    coords.set(el, newCoords);\n    animation.addEventListener(\"finish\", updatePos.bind(null, el));\n}\n/**\n * Adds the element with a transition.\n * @param el - Animates the element being added.\n */\nfunction add(el) {\n    const newCoords = getCoords(el);\n    coords.set(el, newCoords);\n    const pluginOrOptions = getOptions(el);\n    let animation;\n    if (typeof pluginOrOptions !== \"function\") {\n        animation = el.animate([\n            { transform: \"scale(.98)\", opacity: 0 },\n            { transform: \"scale(0.98)\", opacity: 0, offset: 0.5 },\n            { transform: \"scale(1)\", opacity: 1 },\n        ], {\n            duration: pluginOrOptions.duration * 1.5,\n            easing: \"ease-in\",\n        });\n    }\n    else {\n        animation = new Animation(pluginOrOptions(el, \"add\", newCoords));\n        animation.play();\n    }\n    animations.set(el, animation);\n    animation.addEventListener(\"finish\", updatePos.bind(null, el));\n}\n/**\n * Animates the removal of an element.\n * @param el - Element to remove\n */\nfunction remove(el) {\n    if (!siblings.has(el) || !coords.has(el))\n        return;\n    const [prev, next] = siblings.get(el);\n    Object.defineProperty(el, DEL, { value: true });\n    if (next && next.parentNode && next.parentNode instanceof Element) {\n        next.parentNode.insertBefore(el, next);\n    }\n    else if (prev && prev.parentNode) {\n        prev.parentNode.appendChild(el);\n    }\n    const [top, left, width, height] = deletePosition(el);\n    const optionsOrPlugin = getOptions(el);\n    const oldCoords = coords.get(el);\n    let animation;\n    Object.assign(el.style, {\n        position: \"absolute\",\n        top: `${top}px`,\n        left: `${left}px`,\n        width: `${width}px`,\n        height: `${height}px`,\n        margin: 0,\n        pointerEvents: \"none\",\n        transformOrigin: \"center\",\n        zIndex: 100,\n    });\n    if (typeof optionsOrPlugin !== \"function\") {\n        animation = el.animate([\n            {\n                transform: \"scale(1)\",\n                opacity: 1,\n            },\n            {\n                transform: \"scale(.98)\",\n                opacity: 0,\n            },\n        ], { duration: optionsOrPlugin.duration, easing: \"ease-out\" });\n    }\n    else {\n        animation = new Animation(optionsOrPlugin(el, \"remove\", oldCoords));\n        animation.play();\n    }\n    animations.set(el, animation);\n    animation.addEventListener(\"finish\", () => {\n        var _a;\n        el.remove();\n        coords.delete(el);\n        siblings.delete(el);\n        animations.delete(el);\n        (_a = intersections.get(el)) === null || _a === void 0 ? void 0 : _a.disconnect();\n    });\n}\nfunction deletePosition(el) {\n    const oldCoords = coords.get(el);\n    const [width, , height] = getTransitionSizes(el, oldCoords, getCoords(el));\n    let offsetParent = el.parentElement;\n    while (offsetParent &&\n        (getComputedStyle(offsetParent).position === \"static\" ||\n            offsetParent instanceof HTMLBodyElement)) {\n        offsetParent = offsetParent.parentElement;\n    }\n    if (!offsetParent)\n        offsetParent = document.body;\n    const parentStyles = getComputedStyle(offsetParent);\n    const parentCoords = coords.get(offsetParent) || getCoords(offsetParent);\n    const top = Math.round(oldCoords.top - parentCoords.top) -\n        raw(parentStyles.borderTopWidth);\n    const left = Math.round(oldCoords.left - parentCoords.left) -\n        raw(parentStyles.borderLeftWidth);\n    return [top, left, width, height];\n}\n/**\n * A function that automatically adds animation effects to itself and its\n * immediate children. Specifically it adds effects for adding, moving, and\n * removing DOM elements.\n * @param el - A parent element to add animations to.\n * @param options - An optional object of options.\n */\nfunction autoAnimate(el, config = {}) {\n    if (mutations && resize) {\n        const mediaQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n        if (mediaQuery.matches)\n            return;\n        if (getComputedStyle(el).position === \"static\") {\n            Object.assign(el.style, { position: \"relative\" });\n        }\n        forEach(el, updatePos, poll, (element) => resize === null || resize === void 0 ? void 0 : resize.observe(element));\n        if (typeof config === \"function\") {\n            options.set(el, config);\n        }\n        else {\n            options.set(el, { duration: 250, easing: \"ease-in-out\", ...config });\n        }\n        mutations.observe(el, { childList: true });\n        parents.add(el);\n    }\n}\n/**\n * The vue directive.\n */\nconst vAutoAnimate = {\n    mounted: (el, binding) => {\n        autoAnimate(el, binding.value || {});\n    },\n};\n\nexport { autoAnimate as default, getTransitionSizes, vAutoAnimate };\n","import { useRef, useEffect } from 'react';\nimport autoAnimate from '../index.mjs';\n\n/**\n * AutoAnimate hook for adding dead-simple transitions and animations to react.\n * @param options - Auto animate options or a plugin\n * @returns\n */\nfunction useAutoAnimate(options = {}) {\n    const element = useRef(null);\n    useEffect(() => {\n        if (element.current instanceof HTMLElement)\n            autoAnimate(element.current, options);\n    }, [element]);\n    return [element];\n}\n\nexport { useAutoAnimate };\n"],"names":["Spinner","className","s","useCMS","context","React","CMSContext","Error","usePagination","pageCount","setPageCount","loadMoreHandler","cb","postId","tag","PostCard","post","deletePost","isLoading","setIsLoading","navigate","useNavigate","deleteHandler","_id","title","formattedDate","published","commentCount","type","onClick","disabled","CardList","posts","useAutoAnimate","parentRef","ref","length","style","textAlign","fontSize","map","AllPosts","documents","loadPost","root","mutations","resize","parents","Set","coords","WeakMap","siblings","animations","intersections","intervals","options","debounces","TGT","DEL","updatePos","el","clearTimeout","get","optionsOrPlugin","getOptions","delay","duration","set","setTimeout","currentAnimation","finished","getCoords","oldObserver","disconnect","rect","invocations","offsetWidth","offsetHeight","rootMargin","top","left","width","height","px","Math","floor","join","observer","IntersectionObserver","threshold","observe","observePosition","poll","setInterval","lowPriority","bind","round","random","callback","requestIdleCallback","requestAnimationFrame","target","child","Object","defineProperty","value","raw","str","Number","replace","getBoundingClientRect","window","scrollY","scrollX","getTransitionSizes","oldCoords","newCoords","widthFrom","heightFrom","widthTo","heightTo","styles","getComputedStyle","getPropertyValue","paddingY","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","paddingX","paddingLeft","paddingRight","borderRightWidth","borderLeftWidth","has","easing","forEach","parent","callbacks","i","children","item","autoAnimate","config","mediaQuery","matchMedia","matches","position","assign","element","childList","add","document","documentElement","MutationObserver","elements","reduce","mutation","Element","removedNodes","previousSibling","nextSibling","getElements","_a","isMounted","contains","preExisting","delete","cancel","animation","pluginOrOptions","deltaX","deltaY","start","transform","end","animate","Animation","play","addEventListener","remain","prev","next","parentNode","insertBefore","appendChild","offsetParent","parentElement","HTMLBodyElement","body","parentStyles","parentCoords","deletePosition","margin","pointerEvents","transformOrigin","zIndex","opacity","remove","offset","ResizeObserver","entries","entry","useRef","useEffect","current","HTMLElement"],"sourceRoot":""}