"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[520],{8607:function(e,t,o){o.d(t,{Z:function(){return r}});var s=o(2791),n=o(49);function r(){var e=s.useContext(n.c);if(!e)throw new Error("useDB can only be used inside a DBProvider");return e}},6587:function(e,t,o){o.d(t,{Z:function(){return r}});var s=o(885),n=o(2791);function r(){var e=n.useState(2),t=(0,s.Z)(e,2),o=t[0],r=t[1];return{loadMoreHandler:n.useCallback((function(e){var t=e.cb,s=e.postId,n=e.tag;n?t(o,n):s?t(o,s):t(o),r(o+1)}),[o]),pageCount:o,setPageCount:r}}},9520:function(e,t,o){o.r(t),o.d(t,{default:function(){return P}});var s=o(2791),n=o(3504),r="Hero_hero__zvVCj",i="Hero_image-container__vG8Jk",a="Hero_post-image__MEXMJ",d="Hero_image-title__cY+De",c="Hero_new-post__DF+Hm",l=o(184),_=function(e){return new Date(e.createdAt)<new Date((new Date).getTime()+432e6)};function u(e){var t=e.newPosts,o=e.scrollToPosts;return(0,l.jsxs)("div",{className:r,children:[(0,l.jsx)("h1",{children:"Read engaging blog posts while you brew"}),(0,l.jsx)("p",{children:"Multiple fantastic authors. Filled with posts that satisfies your daily reading needs"}),(0,l.jsx)("button",{type:"button",onClick:o,children:"Check Them Out"}),(0,l.jsx)("div",{className:i,children:t.map((function(e){return(0,l.jsxs)(n.rU,{to:"/posts/".concat(e._id),className:a,children:[(0,l.jsx)("img",{src:e.image,alt:""}),(0,l.jsx)("div",{className:d,children:(0,l.jsx)("p",{children:e.title})}),_(e)&&(0,l.jsx)("span",{className:c,children:"New"})]},e._id)}))})]})}var p=s.memo(u),f=o(885),h=o(9647);var m=o(3540),g={"posts-section":"Posts_posts-section__i8CjT","section-title":"Posts_section-title__pldE5",post:"Posts_post__X6pyF","image-container":"Posts_image-container__zX-fu","post-info":"Posts_post-info__WMci+","post-info__header":"Posts_post-info__header__keuGq","post-info__body":"Posts_post-info__body__hn8+Z","post-info__footer":"Posts_post-info__footer__D7CJ-","load-more":"Posts_load-more__lppm5","drop-down-container":"Posts_drop-down-container__U5AXx","drop-down":"Posts_drop-down__ssPAd","drop-down__body":"Posts_drop-down__body__agPdq","drop-down--left":"Posts_drop-down--left__DQWfj","drop-down--right":"Posts_drop-down--right__xEC-b","drop-down__divider":"Posts_drop-down__divider__+AKLL","drop-down__beak":"Posts_drop-down__beak__y7HIs","drop-down__beak--right":"Posts_drop-down__beak--right__MDOjx"};function j(e){var t=e.postDetails;return(0,l.jsxs)("div",{className:g.post,children:[(0,l.jsx)("div",{className:g["image-container"],children:(0,l.jsx)("img",{src:t.image,alt:""})}),(0,l.jsxs)("div",{className:g["post-info"],children:[(0,l.jsxs)("div",{className:g["post-info__header"],children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:t.tag}),(0,l.jsx)("span",{children:t.formattedDate})]}),(0,l.jsx)("span",{children:t.author.username})]}),(0,l.jsxs)("div",{className:g["post-info__body"],children:[(0,l.jsx)("h3",{children:t.title}),(0,l.jsx)("div",{children:(0,m.ZP)(t.body.slice(0,200))})]}),(0,l.jsxs)("div",{className:g["post-info__footer"],children:[(0,l.jsx)(n.rU,{to:"/posts/".concat(t._id),children:"Read More \u2192"}),(0,l.jsx)("div",{children:(0,l.jsxs)("span",{style:{fontSize:"1.2rem"},children:[t.commentCount," Comments"]})})]})]})]})}var v=o(6587),x=s.forwardRef((function(e,t){var o=e.data,n=e.tags,r=e.getFilteredPosts,i=e.getAllPost,a=e.loadPost,d=(0,v.Z)(),c=d.pageCount,_=d.loadMoreHandler,u=d.setPageCount,p=function(){var e=s.useState(!1),t=(0,f.Z)(e,2),o=t[0],n=t[1];return{isOpen:o,open:s.useCallback((function(){return n(!0)}),[]),close:s.useCallback((function(){return n(!1)}),[])}}(),m=p.isOpen,x=p.open,w=p.close,P=s.useRef(null),b=(0,h.u)(),C=(0,f.Z)(b,1)[0],y=s.useState(""),N=(0,f.Z)(y,2),k=N[0],D=N[1];s.useEffect((function(){function e(e){P.current&&!P.current.contains(e.target)&&w()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[P]);var Z=function(e){var t=e.target.value;t!==k&&(D(t),r(t),u(2))};return(0,l.jsxs)("div",{ref:C,className:g["posts-section"],children:[(0,l.jsx)("h3",{ref:t,className:g["section-title"],children:"Posts"}),(0,l.jsxs)("div",{className:g["drop-down-container"],children:[(0,l.jsx)("button",{type:"button",onClick:function(){k&&(D(""),i(),u(2))},children:"All"}),(0,l.jsx)("button",{type:"button",onClick:x,children:"Filter by Tags"}),m&&(0,l.jsxs)("div",{className:[g["drop-down"],g["drop-down--right"]].join(" "),ref:P,children:[(0,l.jsx)("div",{className:g["drop-down__beak"]}),(0,l.jsx)("div",{className:g["drop-down__divider"],children:"Tags"}),(0,l.jsx)("div",{className:g["drop-down__body"],children:n.map((function(e){return(0,l.jsx)("button",{type:"button",value:e.tag,onClick:Z,children:e.tag},e.tag)}))})]})]}),!o.length&&(0,l.jsx)("div",{style:{textAlign:"center",fontSize:"3rem"},children:"No Post"}),o.map((function(e){return(0,l.jsx)(j,{postDetails:e},e._id)})),o.length&&o.length%(10*(c-1))===0?(0,l.jsx)("button",{className:g["load-more"],type:"button",onClick:function(){return _({cb:a,tag:k})},children:"Load more"}):""]})})),w=o(8607);function P(){var e=(0,w.Z)(),t=e.documents,o=e.getFilteredPosts,n=e.getAllPost,r=e.loadPost,i=s.useRef(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p,{newPosts:t.newPosts,scrollToPosts:function(){i.current&&i.current.scrollIntoView({behavior:"smooth"})}}),(0,l.jsx)(x,{data:t.posts,tags:t.tags,getFilteredPosts:o,getAllPost:n,loadPost:r,ref:i})]})}}}]);
//# sourceMappingURL=520.5c32d5c3.chunk.js.map